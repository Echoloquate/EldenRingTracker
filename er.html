<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elden Ring - Item Tracker</title>
<link rel="stylesheet" href="shared.css">
<style>
  :root {
    --accent: #d4b55a;
    --accent-dim: #a08540;
    --accent-bright: #f0d878;
    --accent-rgb: 200, 168, 78;
    --bg: #1a1814;
    --bg-card: #22201a;
    --bg-card-hover: #2c2920;
    --border: #3a3428;
    --border-light: #504838;
    --text: #d8ccb0;
    --text-dim: #9a8e78;
    --text-bright: #f0e8d4;
    --checked-text: #605848;
    --green: #6a9a5a;
    --green-dim: #4a7a3a;
    --red: #a04a4a;
  }
</style>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
<script src="er-data.js"></script>
</head>
<body>

<header>
  <h1>Elden Ring<span>Item Tracker</span></h1>
  <a href="./" class="nav-link">&larr; All Trackers</a>
  <a href="ds3.html" class="nav-link">Dark Souls III &rarr;</a>
</header>

<div class="info-box">
  <button class="info-toggle" id="infoToggle">
    About this tracker <span class="arrow">&#9660;</span>
  </button>
  <div class="info-content" id="infoContent">
    <p>This is a checklist for the <a href="https://www.nexusmods.com/eldenring/mods/428" target="_blank" rel="noopener">Elden Ring Item and Enemy Randomizer</a> by thefifthmatt. It covers all key items, boss drops, golden seeds, sacred tears, and shop checks across the base game and Shadow of the Erdtree.</p>
    <p>Create a room to share progress with your co-op group in real time - just give everyone the same room code and checks will sync automatically.</p>
  </div>
</div>

<div class="category-toggles" id="categoryToggles">
  <span class="cat-label">Categories</span>
</div>

<div class="progress-area">
  <div class="progress-stats">
    <span class="count" id="progressCount">0 / 0</span>
    <span class="percent" id="progressPercent">0%</span>
  </div>
  <div class="progress-bar">
    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
  </div>
</div>

<div class="controls">
  <input type="search" id="searchBox" placeholder="Search items or locationsâ€¦">
  <button class="filter-btn active" data-filter="all">All</button>
  <button class="filter-btn" data-filter="unchecked">Remaining</button>
  <button class="filter-btn" data-filter="checked">Completed</button>
  <span class="room-badge" id="roomBadge" hidden>
    Room <code id="roomCodeDisplay"></code>
    <button class="leave-btn" id="leaveRoomBtn">Leave</button>
  </span>
</div>
<div class="sync-error" id="syncError" hidden></div>

<div class="room-overlay" id="roomOverlay">
  <div class="room-modal">
    <h2>Multiplayer Tracker</h2>
    <p>Create or join a room to sync progress with your group.</p>
    <input type="text" id="roomCodeInput" placeholder="Enter room code" maxlength="6" spellcheck="false" autocomplete="off">
    <div class="room-actions">
      <button class="room-btn primary" id="createRoomBtn">Create Room</button>
      <button class="room-btn" id="joinRoomBtn">Join Room</button>
    </div>
    <div class="room-error" id="roomError"></div>
  </div>
</div>

<main id="main"><div class="loading"><div class="spinner"></div></div></main>

<script src="er.js"></script>
</body>
</html>
